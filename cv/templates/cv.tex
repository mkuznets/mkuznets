% Based on preamble of pandoc/test/writer.latex
% All changes are marked with `CUSTOM` comment blocks

% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%

% -----------------------------------------------------------------------------
% CUSTOM

% Page layout
\documentclass[12pt,a4paper]{article}
\usepackage[left=1.5cm,right=1.5cm,top=1.5cm,bottom=1.5cm]{geometry}

% Cyrillic support
\usepackage{cmap}
\usepackage{type1ec}
\usepackage[T2A]{fontenc}
\usepackage[english,russian]{babel}


% \documentclass[
% ]{article}

% -----------------------------------------------------------------------------

\usepackage{amsmath,amssymb}
% \usepackage{lmodern} % CUSTOM: does not work with Cyrillic
\usepackage{iftex}
\ifPDFTeX
  % \usepackage[T1]{fontenc} % CUSTOM: redefined earlier
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{fancyvrb}
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}

% -----------------------------------------------------------------------------
% CUSTOM

% Remove metadata
% \hypersetup{
%  pdftitle={Pandoc Test Suite},
%  pdfauthor={John MacFarlane; Anonymous},
%  hidelinks,
%  pdfcreator={LaTeX via pandoc}}


\definecolor{darkblue}{rgb}{0,0,.6}
\hypersetup{
  colorlinks      = true,
  linkcolor       = darkblue,
  citecolor       = darkblue,
  filecolor       = darkblue,
  menucolor       = darkblue,
  urlcolor        = darkblue,
}

% -----------------------------------------------------------------------------


\urlstyle{same} % disable monospaced font for URLs
\VerbatimFootnotes % allow verbatim text in footnotes
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\usepackage[normalem]{ulem}
% Avoid problems with \sout in headers with hyperref
\pdfstringdefDisableCommands{\renewcommand{\sout}{}}
\setlength{\emergencystretch}{3em} % prevent overfull lines


% \providecommand{\tightlist}{%
%  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

% ------------------------------------------------------------------------------
% CUSTOM

% Place lists closer to the preceding paragraph
\providecommand{\tightlist}{%
  \vspace{-0.5em}\setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

% ------------------------------------------------------------------------------

\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi

% ------------------------------------------------------------------------------
% CUSTOM

% Remove metadata
% \title{Pandoc Test Suite}
% \author{John MacFarlane \and Anonymous}
% \date{July 17, 2006}

% Disable hyphenation
% https://tex.stackexchange.com/a/5039
\righthyphenmin=62
\lefthyphenmin=62

% Disable page numbers
\thispagestyle{empty}

% Reproducible PDFs
% https://tex.stackexchange.com/a/313605
\pdfinfoomitdate=1
\pdftrailerid{}
\pdfsuppressptexinfo=-1

% ------------------------------------------------------------------------------

\begin{document}
  $body$
\end{document}
